{"ast":null,"code":"import _Snackbar from \"@material-ui/core/esm/Snackbar\";\nimport _Button from \"@material-ui/core/esm/Button\";\nimport _Grid from \"@material-ui/core/esm/Grid\";\nimport _Box from \"@material-ui/core/esm/Box\";\nimport _toConsumableArray from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\src\\\\app\\\\views\\\\applications\\\\messagePopUp\\\\UserPopUpMessage.jsx\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useStyles } from \"../../../c1utils/styles\";\nimport C1TextArea from \"../../../c1component/C1TextArea\";\nimport C1Alert from \"../../../c1component/C1Alert\";\nimport { getValue } from \"../../../c1utils/utility\";\nimport useHttp from \"../../../c1hooks/http\";\nimport { useTranslation } from \"react-i18next\";\nimport { Client } from \"@stomp/stompjs\"; // Import STOMP client\n\nvar UserPopUpMessage = function UserPopUpMessage(_ref) {\n  var _auth$user, _messageInput$message2;\n  var auth = _ref.auth,\n    initialSender = _ref.sender,\n    message = _ref.message,\n    initialReceiver = _ref.receiver,\n    handleOnClose = _ref.handleOnClose;\n  var sender = auth === null || auth === void 0 ? void 0 : (_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.id;\n  var receiver = initialReceiver;\n  var classes = useStyles();\n  var _useTranslation = useTranslation([\"job\"]),\n    t = _useTranslation.t;\n  var _useHttp = useHttp(),\n    isLoading = _useHttp.isLoading,\n    isFormSubmission = _useHttp.isFormSubmission,\n    res = _useHttp.res,\n    validation = _useHttp.validation,\n    error = _useHttp.error,\n    urlId = _useHttp.urlId,\n    sendRequest = _useHttp.sendRequest;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errors = _useState4[0],\n    setErrors = _useState4[1];\n  var _useState5 = useState({\n      message: \"\",\n      receiver: receiver,\n      type: \"CHAT\"\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    messageInput = _useState6[0],\n    setMessageInput = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    messages = _useState8[0],\n    setMessages = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    socketConnected = _useState10[0],\n    setSocketConnected = _useState10[1];\n  var _useState11 = useState({\n      open: false,\n      vertical: \"top\",\n      horizontal: \"center\",\n      msg: \"\",\n      severity: \"success\"\n    }),\n    _useState12 = _slicedToArray(_useState11, 2),\n    snackBarState = _useState12[0],\n    setSnackBarState = _useState12[1];\n  var socketRef = useRef(null); // Reference for socket\n\n  // Fetch chat history\n  useEffect(function () {\n    if (sender && receiver) {\n      sendRequest(\"/\".concat(sender, \"/\").concat(receiver), 'FETCH', 'GET', null);\n    }\n  }, [sender, receiver]);\n\n  // Handle API responses\n  useEffect(function () {\n    if (!isLoading && !error && res && !validation) {\n      setLoading(false);\n      if (urlId === \"FETCH\") {\n        setMessages(res.data);\n      }\n    }\n    if (validation) {\n      setErrors(validation);\n      setLoading(false);\n    }\n  }, [isLoading, isFormSubmission, validation, error]);\n  var handleCloseSnackBar = function handleCloseSnackBar() {\n    setSnackBarState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        open: false\n      });\n    });\n  };\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setMessageInput(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  // WebSocket connection and subscription\n  useEffect(function () {\n    var socket = new Client({\n      brokerURL: \"ws://localhost:8080/ws\",\n      // Replace with your WebSocket URL\n      connectHeaders: {\n        // Add headers for authentication, if needed\n      },\n      onConnect: function onConnect() {\n        setSocketConnected(true);\n        socketRef.current = socket;\n\n        // Subscribe to the receiver's specific queue for messages\n        socketRef.current.subscribe(\"/user/\".concat(receiver, \"/queue/messages\"), function (messageOutput) {\n          try {\n            var _auth$user2, _auth$user3, _auth$user4, _auth$user5;\n            var response = JSON.parse(messageOutput.body);\n            // Filter out self-sent messages\n            if (response.sender === sender) return;\n            var enrichedMessage = _objectSpread(_objectSpread({}, response), {}, {\n              userSender: {\n                id: response.sender,\n                username: response.sender === (auth === null || auth === void 0 ? void 0 : (_auth$user2 = auth.user) === null || _auth$user2 === void 0 ? void 0 : _auth$user2.id) ? auth === null || auth === void 0 ? void 0 : (_auth$user3 = auth.user) === null || _auth$user3 === void 0 ? void 0 : _auth$user3.username : (initialReceiver === null || initialReceiver === void 0 ? void 0 : initialReceiver.username) || \"Other\"\n              },\n              userReceiver: {\n                id: response.receiver,\n                username: response.receiver === (auth === null || auth === void 0 ? void 0 : (_auth$user4 = auth.user) === null || _auth$user4 === void 0 ? void 0 : _auth$user4.id) ? auth === null || auth === void 0 ? void 0 : (_auth$user5 = auth.user) === null || _auth$user5 === void 0 ? void 0 : _auth$user5.username : (initialSender === null || initialSender === void 0 ? void 0 : initialSender.username) || \"Other\"\n              }\n            });\n            setMessages(function (prev) {\n              return [].concat(_toConsumableArray(prev), [enrichedMessage]);\n            });\n          } catch (err) {\n            console.error(\"Error parsing message:\", err);\n          }\n        });\n      },\n      onError: function onError(error) {\n        console.error(\"WebSocket connection error:\", error);\n        setSocketConnected(false);\n        setSnackBarState({\n          open: true,\n          msg: \"Connection error. Trying to reconnect...\",\n          severity: \"error\",\n          vertical: \"top\",\n          horizontal: \"center\"\n        });\n      },\n      onDisconnect: function onDisconnect() {\n        console.log(\"WebSocket disconnected\");\n        setSocketConnected(false);\n      }\n    });\n    socketRef.current.activate();\n\n    // Cleanup on unmount\n    return function () {\n      if (socketRef.current && socketRef.current.active) {\n        socketRef.current.deactivate();\n      }\n    };\n  }, [sender, receiver]);\n  var handleSendMessage = useCallback(function () {\n    var _messageInput$message;\n    if (!((_messageInput$message = messageInput.message) === null || _messageInput$message === void 0 ? void 0 : _messageInput$message.trim())) {\n      setSnackBarState({\n        open: true,\n        msg: \"Message cannot be empty\",\n        severity: \"warning\",\n        vertical: \"top\",\n        horizontal: \"center\"\n      });\n      return;\n    }\n    if (!socketConnected) {\n      setSnackBarState({\n        open: true,\n        msg: \"Not connected to server\",\n        severity: \"error\",\n        vertical: \"top\",\n        horizontal: \"center\"\n      });\n      return;\n    }\n    var payload = {\n      type: \"MESSAGE\",\n      content: messageInput.message,\n      sender: sender,\n      receiver: receiver,\n      timestamp: new Date().toISOString()\n    };\n    try {\n      socketRef.current.send(JSON.stringify(payload));\n      setMessages(function (prev) {\n        var _auth$user6;\n        return [].concat(_toConsumableArray(prev), [_objectSpread(_objectSpread({}, payload), {}, {\n          status: \"sending\",\n          userSender: {\n            id: sender,\n            username: auth === null || auth === void 0 ? void 0 : (_auth$user6 = auth.user) === null || _auth$user6 === void 0 ? void 0 : _auth$user6.username\n          },\n          userReceiver: {\n            id: receiver\n          }\n        })]);\n      });\n      setMessageInput({\n        message: \"\"\n      });\n    } catch (err) {\n      console.error(\"Error sending message:\", err);\n      setSnackBarState({\n        open: true,\n        msg: \"Failed to send message\",\n        severity: \"error\",\n        vertical: \"top\",\n        horizontal: \"center\"\n      });\n    }\n  }, [messageInput, socketConnected, sender, receiver]);\n  var handleKeyPress = function handleKeyPress(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid, {\n    container: true,\n    spacing: 2,\n    className: classes.gridContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Box, {\n    style: {\n      height: \"300px\",\n      overflowY: \"auto\",\n      border: \"1px solid #e0e0e0\",\n      padding: \"12px\",\n      borderRadius: \"8px\",\n      backgroundColor: \"#f9f9f9\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, messages.map(function (msg, index) {\n    var _msg$userSender, _msg$userReceiver, _msg$userSender2;\n    var isSender = (msg === null || msg === void 0 ? void 0 : (_msg$userSender = msg.userSender) === null || _msg$userSender === void 0 ? void 0 : _msg$userSender.id) === sender;\n    var isReceiver = (msg === null || msg === void 0 ? void 0 : (_msg$userReceiver = msg.userReceiver) === null || _msg$userReceiver === void 0 ? void 0 : _msg$userReceiver.id) === sender;\n    if (isSender && isReceiver) return null; // avoid rendering self-sent-to-self message\n\n    return /*#__PURE__*/React.createElement(_Box, {\n      key: index,\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: isSender ? \"flex-end\" : \"flex-start\",\n        marginBottom: \"10px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(_Box, {\n      style: {\n        backgroundColor: isSender ? \"#3f51b5\" : \"#e0e0e0\",\n        color: isSender ? \"#fff\" : \"#000\",\n        padding: \"10px 14px\",\n        borderRadius: \"18px\",\n        maxWidth: \"70%\",\n        wordBreak: \"break-word\",\n        boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n        position: \"relative\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 37\n      }\n    }, !isSender && /*#__PURE__*/React.createElement(_Box, {\n      style: {\n        fontSize: \"0.85em\",\n        fontWeight: 600,\n        marginBottom: 4\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 45\n      }\n    }, msg === null || msg === void 0 ? void 0 : (_msg$userSender2 = msg.userSender) === null || _msg$userSender2 === void 0 ? void 0 : _msg$userSender2.username), msg.content, /*#__PURE__*/React.createElement(_Box, {\n      style: {\n        fontSize: \"0.75em\",\n        marginTop: 6,\n        color: isSender ? \"#e0e0ff\" : \"#555\",\n        textAlign: \"right\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 41\n      }\n    }, new Date(msg.timestamp).toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    }), msg.status === \"sending\" && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 6\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 74\n      }\n    }, \"(Sending...)\"))));\n  }))), /*#__PURE__*/React.createElement(_Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(C1TextArea, {\n    label: t(\"job:Enter your message\"),\n    name: \"message\",\n    value: getValue(messageInput === null || messageInput === void 0 ? void 0 : messageInput.message),\n    onChange: handleInputChange,\n    onKeyPress: handleKeyPress,\n    multiline: true,\n    textLimit: 1024,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(_Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      gap: \"10px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSendMessage,\n    disabled: !socketConnected || !((_messageInput$message2 = messageInput.message) === null || _messageInput$message2 === void 0 ? void 0 : _messageInput$message2.trim()),\n    style: {\n      color: \"#fff\",\n      minWidth: 100\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }\n  }, t(\"job:Send\")), /*#__PURE__*/React.createElement(_Button, {\n    variant: \"outlined\",\n    color: \"secondary\",\n    onClick: handleOnClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 21\n    }\n  }, t(\"job:Close\")))), /*#__PURE__*/React.createElement(_Snackbar, {\n    anchorOrigin: {\n      vertical: snackBarState.vertical,\n      horizontal: snackBarState.horizontal\n    },\n    open: snackBarState.open,\n    autoHideDuration: 3000,\n    onClose: handleCloseSnackBar,\n    key: snackBarState.vertical + snackBarState.horizontal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(C1Alert, {\n    onClose: handleCloseSnackBar,\n    severity: snackBarState.severity,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 17\n    }\n  }, snackBarState.msg)));\n};\nexport default UserPopUpMessage;","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","useStyles","C1TextArea","C1Alert","getValue","useHttp","useTranslation","Client","UserPopUpMessage","auth","initialSender","sender","message","initialReceiver","receiver","handleOnClose","user","id","classes","t","isLoading","isFormSubmission","res","validation","error","urlId","sendRequest","loading","setLoading","errors","setErrors","type","messageInput","setMessageInput","messages","setMessages","socketConnected","setSocketConnected","open","vertical","horizontal","msg","severity","snackBarState","setSnackBarState","socketRef","data","handleCloseSnackBar","prev","handleInputChange","e","target","name","value","socket","brokerURL","connectHeaders","onConnect","current","subscribe","messageOutput","response","JSON","parse","body","enrichedMessage","userSender","username","userReceiver","err","console","onError","onDisconnect","log","activate","active","deactivate","handleSendMessage","trim","payload","content","timestamp","Date","toISOString","send","stringify","status","handleKeyPress","key","shiftKey","preventDefault","gridContainer","height","overflowY","border","padding","borderRadius","backgroundColor","map","index","isSender","isReceiver","display","flexDirection","alignItems","marginBottom","color","maxWidth","wordBreak","boxShadow","position","fontSize","fontWeight","marginTop","textAlign","toLocaleTimeString","hour","minute","marginLeft","justifyContent","gap","minWidth"],"sources":["D:/Collap Projects/ACLEDA-Student/student-ui/src/app/views/applications/messagePopUp/UserPopUpMessage.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useStyles } from \"../../../c1utils/styles\";\r\nimport C1TextArea from \"../../../c1component/C1TextArea\";\r\nimport C1Alert from \"../../../c1component/C1Alert\";\r\nimport { getValue } from \"../../../c1utils/utility\";\r\nimport useHttp from \"../../../c1hooks/http\";\r\nimport { Grid, Box, Button, Snackbar } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Client } from \"@stomp/stompjs\"; // Import STOMP client\r\n\r\nconst UserPopUpMessage = ({\r\n                              auth,\r\n                              sender: initialSender,\r\n                              message,\r\n                              receiver: initialReceiver,\r\n                              handleOnClose,\r\n                          }) => {\r\n    const sender = auth?.user?.id;\r\n    const receiver = initialReceiver;\r\n\r\n    const classes = useStyles();\r\n    const { t } = useTranslation([\"job\"]);\r\n    const { isLoading, isFormSubmission, res, validation, error, urlId, sendRequest } = useHttp();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n    const [messageInput, setMessageInput] = useState({\r\n        message: \"\",\r\n        receiver: receiver,\r\n        type: \"CHAT\",\r\n    });\r\n    const [messages, setMessages] = useState([]);\r\n    const [socketConnected, setSocketConnected] = useState(false);\r\n\r\n    const [snackBarState, setSnackBarState] = useState({\r\n        open: false,\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n        msg: \"\",\r\n        severity: \"success\",\r\n    });\r\n\r\n    const socketRef = useRef(null); // Reference for socket\r\n\r\n    // Fetch chat history\r\n    useEffect(() => {\r\n        if (sender && receiver) {\r\n            sendRequest(`/${sender}/${receiver}`, 'FETCH', 'GET', null);\r\n        }\r\n    }, [sender, receiver]);\r\n\r\n    // Handle API responses\r\n    useEffect(() => {\r\n        if (!isLoading && !error && res && !validation) {\r\n            setLoading(false);\r\n            if (urlId === \"FETCH\") {\r\n                setMessages(res.data);\r\n            }\r\n        }\r\n        if (validation) {\r\n            setErrors(validation);\r\n            setLoading(false);\r\n        }\r\n    }, [isLoading, isFormSubmission, validation, error]);\r\n\r\n    const handleCloseSnackBar = () => {\r\n        setSnackBarState((prev) => ({ ...prev, open: false }));\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setMessageInput((prev) => ({\r\n            ...prev,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    // WebSocket connection and subscription\r\n    useEffect(() => {\r\n        const socket = new Client({\r\n            brokerURL: \"ws://localhost:8080/ws\", // Replace with your WebSocket URL\r\n            connectHeaders: {\r\n                // Add headers for authentication, if needed\r\n            },\r\n            onConnect: () => {\r\n                setSocketConnected(true);\r\n                socketRef.current = socket;\r\n\r\n                // Subscribe to the receiver's specific queue for messages\r\n                socketRef.current.subscribe(`/user/${receiver}/queue/messages`, (messageOutput) => {\r\n                    try {\r\n                        const response = JSON.parse(messageOutput.body);\r\n                        // Filter out self-sent messages\r\n                        if (response.sender === sender) return;\r\n\r\n                        const enrichedMessage = {\r\n                            ...response,\r\n                            userSender: {\r\n                                id: response.sender,\r\n                                username: response.sender === auth?.user?.id ? auth?.user?.username : initialReceiver?.username || \"Other\",\r\n                            },\r\n                            userReceiver: {\r\n                                id: response.receiver,\r\n                                username: response.receiver === auth?.user?.id ? auth?.user?.username : initialSender?.username || \"Other\",\r\n                            },\r\n                        };\r\n\r\n                        setMessages((prev) => [...prev, enrichedMessage]);\r\n                    } catch (err) {\r\n                        console.error(\"Error parsing message:\", err);\r\n                    }\r\n                });\r\n            },\r\n            onError: (error) => {\r\n                console.error(\"WebSocket connection error:\", error);\r\n                setSocketConnected(false);\r\n                setSnackBarState({\r\n                    open: true,\r\n                    msg: \"Connection error. Trying to reconnect...\",\r\n                    severity: \"error\",\r\n                    vertical: \"top\",\r\n                    horizontal: \"center\",\r\n                });\r\n            },\r\n            onDisconnect: () => {\r\n                console.log(\"WebSocket disconnected\");\r\n                setSocketConnected(false);\r\n            },\r\n        });\r\n\r\n        socketRef.current.activate();\r\n\r\n        // Cleanup on unmount\r\n        return () => {\r\n            if (socketRef.current && socketRef.current.active) {\r\n                socketRef.current.deactivate();\r\n            }\r\n        };\r\n    }, [sender, receiver]);\r\n\r\n    const handleSendMessage = useCallback(() => {\r\n        if (!messageInput.message?.trim()) {\r\n            setSnackBarState({\r\n                open: true,\r\n                msg: \"Message cannot be empty\",\r\n                severity: \"warning\",\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!socketConnected) {\r\n            setSnackBarState({\r\n                open: true,\r\n                msg: \"Not connected to server\",\r\n                severity: \"error\",\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n            });\r\n            return;\r\n        }\r\n\r\n        const payload = {\r\n            type: \"MESSAGE\",\r\n            content: messageInput.message,\r\n            sender: sender,\r\n            receiver: receiver,\r\n            timestamp: new Date().toISOString(),\r\n        };\r\n\r\n        try {\r\n            socketRef.current.send(JSON.stringify(payload));\r\n\r\n            setMessages((prev) => [\r\n                ...prev,\r\n                {\r\n                    ...payload,\r\n                    status: \"sending\",\r\n                    userSender: { id: sender, username: auth?.user?.username },\r\n                    userReceiver: { id: receiver },\r\n                },\r\n            ]);\r\n\r\n            setMessageInput({ message: \"\" });\r\n        } catch (err) {\r\n            console.error(\"Error sending message:\", err);\r\n            setSnackBarState({\r\n                open: true,\r\n                msg: \"Failed to send message\",\r\n                severity: \"error\",\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n            });\r\n        }\r\n    }, [messageInput, socketConnected, sender, receiver]);\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === \"Enter\" && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSendMessage();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={2} className={classes.gridContainer}>\r\n                <Grid item xs={12}>\r\n                    <Box\r\n                        style={{\r\n                            height: \"300px\",\r\n                            overflowY: \"auto\",\r\n                            border: \"1px solid #e0e0e0\",\r\n                            padding: \"12px\",\r\n                            borderRadius: \"8px\",\r\n                            backgroundColor: \"#f9f9f9\",\r\n                        }}\r\n                    >\r\n                        {messages.map((msg, index) => {\r\n                            const isSender = msg?.userSender?.id === sender;\r\n                            const isReceiver = msg?.userReceiver?.id === sender;\r\n\r\n                            if (isSender && isReceiver) return null; // avoid rendering self-sent-to-self message\r\n\r\n                            return (\r\n                                <Box\r\n                                    key={index}\r\n                                    style={{\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"column\",\r\n                                        alignItems: isSender ? \"flex-end\" : \"flex-start\",\r\n                                        marginBottom: \"10px\",\r\n                                    }}\r\n                                >\r\n                                    <Box\r\n                                        style={{\r\n                                            backgroundColor: isSender ? \"#3f51b5\" : \"#e0e0e0\",\r\n                                            color: isSender ? \"#fff\" : \"#000\",\r\n                                            padding: \"10px 14px\",\r\n                                            borderRadius: \"18px\",\r\n                                            maxWidth: \"70%\",\r\n                                            wordBreak: \"break-word\",\r\n                                            boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\r\n                                            position: \"relative\",\r\n                                        }}\r\n                                    >\r\n                                        {!isSender && (\r\n                                            <Box style={{ fontSize: \"0.85em\", fontWeight: 600, marginBottom: 4 }}>\r\n                                                {msg?.userSender?.username}\r\n                                            </Box>\r\n                                        )}\r\n                                        {msg.content}\r\n                                        <Box\r\n                                            style={{\r\n                                                fontSize: \"0.75em\",\r\n                                                marginTop: 6,\r\n                                                color: isSender ? \"#e0e0ff\" : \"#555\",\r\n                                                textAlign: \"right\",\r\n                                            }}\r\n                                        >\r\n                                            {new Date(msg.timestamp).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n                                            {msg.status === \"sending\" && <span style={{ marginLeft: 6 }}>(Sending...)</span>}\r\n                                        </Box>\r\n                                    </Box>\r\n                                </Box>\r\n                            );\r\n                        })}\r\n                    </Box>\r\n                </Grid>\r\n\r\n                <Grid item xs={12}>\r\n                    <C1TextArea\r\n                        label={t(\"job:Enter your message\")}\r\n                        name=\"message\"\r\n                        value={getValue(messageInput?.message)}\r\n                        onChange={handleInputChange}\r\n                        onKeyPress={handleKeyPress}\r\n                        multiline\r\n                        textLimit={1024}\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} style={{ display: \"flex\", justifyContent: \"flex-end\", gap: \"10px\" }}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleSendMessage}\r\n                        disabled={!socketConnected || !messageInput.message?.trim()}\r\n                        style={{ color: \"#fff\", minWidth: 100 }}\r\n                    >\r\n                        {t(\"job:Send\")}\r\n                    </Button>\r\n\r\n                    <Button variant=\"outlined\" color=\"secondary\" onClick={handleOnClose}>\r\n                        {t(\"job:Close\")}\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: snackBarState.vertical,\r\n                    horizontal: snackBarState.horizontal,\r\n                }}\r\n                open={snackBarState.open}\r\n                autoHideDuration={3000}\r\n                onClose={handleCloseSnackBar}\r\n                key={snackBarState.vertical + snackBarState.horizontal}\r\n            >\r\n                <C1Alert onClose={handleCloseSnackBar} severity={snackBarState.severity}>\r\n                    {snackBarState.msg}\r\n                </C1Alert>\r\n            </Snackbar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserPopUpMessage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}