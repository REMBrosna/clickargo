{"ast":null,"code":"import _slicedToArray from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\src\\\\app\\\\c1utils\\\\utility.js\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport C1DateField from \"app/c1component/C1DateField\";\nimport C1TimeField from \"app/c1component/C1TimeField\";\nimport { VoyageTypes, Roles } from \"app/c1utils/const\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport useAuth from \"../hooks/useAuth\";\n\n//TODO to add more logic e.g. activate, deactivate, etc.\nexport function isEditable(viewType, isLoading) {\n  var isDisabled = true;\n  if (viewType === 'new') isDisabled = false;else if ((viewType === 'edit' || viewType === 'amend') && !isLoading) isDisabled = false;else if (viewType === 'view') isDisabled = true;\n  if (isLoading) {\n    isDisabled = true;\n  }\n  return isDisabled;\n}\nexport function getVoyageType(status) {\n  switch (status) {\n    case VoyageTypes.IN.code:\n    case VoyageTypes.IN.desc:\n      return VoyageTypes.IN.code;\n    case VoyageTypes.OUT.code:\n    case VoyageTypes.OUT.desc:\n      return VoyageTypes.OUT.code;\n    default:\n      return \"\";\n  }\n}\nexport var SwitchStyled = withStyles({\n  switchBase: {\n    color: 'white',\n    '&$checked': {\n      color: '#1976d2'\n    },\n    '&$checked + $track': {\n      backgroundColor: '#1976d2'\n    }\n  },\n  checked: {},\n  track: {}\n})(Switch);\nexport function isShipSide(accountType) {\n  var isShipSide = false;\n  if (accountType === 'ACC_TYPE_SHIP_LINE' || accountType === 'ACC_TYPE_SHIP_AGENT') {\n    isShipSide = true;\n  }\n  return isShipSide;\n}\nexport function userRolesDesc(userRoles) {\n  var desc = \"\";\n  var count = 1;\n  if (userRoles !== undefined) {\n    userRoles.forEach(function (doc) {\n      desc += doc.roleDesc;\n      if (count < userRoles.length) {\n        desc += \",  \";\n      }\n      count++;\n    });\n  }\n  return desc;\n}\nexport function formatDate(date, isTime, onlyTime) {\n  var dateFormat = \"DD/MM/YYYY\".concat(isTime ? ' HH:mm:ss' : '');\n  if (onlyTime) {\n    dateFormat = 'HH:mm';\n  }\n  if (!date) {\n    return '';\n  } else if (date instanceof Date) {\n    // date is Date class\n    return moment(date).format(dateFormat);\n  } else if (date.length === 13) {\n    // 1543593600000\n    return moment(new Date(date)).format(dateFormat);\n  } else if (date.length === 10 && date.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n    // 2020-09-11\n    return moment(date, 'YYYY-MM-DD').format(dateFormat);\n  } else if (date.length === 10 && date.match(/^\\d{2}-\\d{2}-\\d{4}$/)) {\n    // 09-11-2020\n    return moment(date, 'DD-MM-YYYY').format(dateFormat);\n  } else if (date instanceof String && date.indexOf(\"T\") > 0) {\n    // \"2020-02-20T12:30:45\",\n    return moment(date).format(dateFormat);\n  }\n  return moment(date).format(dateFormat);\n}\n\n/**\r\n * Convert Uint8Array To String, use to upload file;\r\n * @param {*} fileData\r\n */\nexport var Uint8ArrayToString = function Uint8ArrayToString(fileData) {\n  var dataString = \"\";\n  for (var i = 0; i < fileData.length; i++) {\n    dataString += String.fromCharCode(fileData[i]);\n  }\n  return dataString;\n};\n\n/**\r\n *\r\n * @param {*} fileName\r\n * @param {*} base64String\r\n */\nexport var downloadFile = function downloadFile(fileName, base64String) {\n  //console.log(`fileName = ${fileName}`);\n  var downloadLink = document.createElement(\"a\");\n  if (base64String !== undefined && base64String !== null) {\n    // Browsers that support HTML5 download attribute\n    if (downloadLink.download !== undefined && downloadLink.download !== null) {\n      downloadLink.href = \"data:application/octet-stream;base64,\".concat(base64String);\n      downloadLink.download = \"\".concat(fileName);\n      downloadLink.click();\n    }\n  }\n};\nvar b64toBlob = function b64toBlob(base64str) {\n  var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  // decode base64 string, remove space for IE compatibility\n  var binary = atob(base64str.replace(/\\s/g, ''));\n  var len = binary.length;\n  var buffer = new ArrayBuffer(len);\n  var view = new Uint8Array(buffer);\n  for (var i = 0; i < len; i++) {\n    view[i] = binary.charCodeAt(i);\n  }\n  return new Blob([view], {\n    type: contentType\n  });\n};\nexport var previewPDF = function previewPDF(fileName, base64String) {\n  // get file extension\n  var fileExt = fileName === null || fileName === void 0 ? void 0 : fileName.split(\".\").pop();\n  var blob;\n  if ([\"jpg\", \"jpeg\", \"png\"].includes(fileExt)) {\n    blob = b64toBlob(base64String, \"image/png\");\n  } else if (fileExt === \"pdf\") {\n    blob = b64toBlob(base64String, \"application/pdf\");\n  } else {\n    return downloadFile(fileName, base64String);\n  }\n  window.open(URL.createObjectURL(blob), \"_blank\");\n};\nexport var isEmpty = function isEmpty(obj) {\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({});\n};\nexport var isStringEmpty = function isStringEmpty(str) {\n  return str === null || str === '' || str === ' ';\n};\nexport var generateId = function generateId() {\n  return Math.floor(Math.random() * Date.now());\n};\nexport var isArrayNotEmpty = function isArrayNotEmpty(value) {\n  return value && Array.isArray(value) && value.length > 0;\n};\nexport function getValue(str) {\n  if (str === undefined || str === null) return \"\";else return str;\n}\n\n//To make the tabs scrollable if it's long\nexport function tabScroll(index) {\n  return {\n    id: \"scrollable-auto-tab-\".concat(index),\n    'aria-controls': \"scrollable-auto-tabpanel-\".concat(index)\n  };\n}\nexport function getAllowBackButton(controls, allowBack) {\n  if (!allowBack) {\n    return controls.map(function (item) {\n      if ((item === null || item === void 0 ? void 0 : item.ctrlAction) !== \"\" && (item === null || item === void 0 ? void 0 : item.ctrlAction.toLowerCase()) === \"exit\") {\n        item.ctrlAction = \"\";\n        return item;\n      } else {\n        return item;\n      }\n    });\n  } else {\n    return controls;\n  }\n}\nexport function listActionsByExemption(controls, exemption, user) {\n  var map = new Set(user.authorities.map(function (el) {\n    return el.authority;\n  }));\n  if (exemption) {\n    if (map.has(Roles.APPROVER_OFFICER.code) && map.has(Roles.VERIFIER_OFFICER.code) || map.has(Roles.VERIFIER_OFFICER.code)) {\n      return controls.map(function (item) {\n        var _item$ctrlAction;\n        if ([\"verify\"].includes(item === null || item === void 0 ? void 0 : (_item$ctrlAction = item.ctrlAction) === null || _item$ctrlAction === void 0 ? void 0 : _item$ctrlAction.toLowerCase())) {\n          item.ctrlAction = \"\";\n          return item;\n        } else {\n          return item;\n        }\n      });\n    } else {\n      return controls;\n    }\n  } else if (map.has(Roles.APPROVER_OFFICER.code) && map.has(Roles.VERIFIER_OFFICER.code)) {\n    return controls.map(function (item) {\n      var _item$ctrlAction2;\n      if ([\"acknowledge\"].includes(item === null || item === void 0 ? void 0 : (_item$ctrlAction2 = item.ctrlAction) === null || _item$ctrlAction2 === void 0 ? void 0 : _item$ctrlAction2.toLowerCase())) {\n        item.ctrlAction = \"\";\n        return item;\n      } else {\n        return item;\n      }\n    });\n  } else if (map.has(Roles.APPROVER_OFFICER.code)) {\n    return controls.map(function (item) {\n      var _item$ctrlAction3;\n      if ([\"acknowledge\", \"return\", \"reject\"].includes(item === null || item === void 0 ? void 0 : (_item$ctrlAction3 = item.ctrlAction) === null || _item$ctrlAction3 === void 0 ? void 0 : _item$ctrlAction3.toLowerCase())) {\n        item.ctrlAction = \"\";\n        return item;\n      } else {\n        return item;\n      }\n    });\n  } else {\n    return controls;\n  }\n}\nexport function getExtension(filename) {\n  var pos = filename.lastIndexOf(\".\");\n  if (pos < 1)\n    // if file name is empty or ...\n    return \"\"; //  `.` not found (-1) or comes first (0)\n\n  return filename.slice(pos + 1).toLowerCase(); // extract extension ignoring `.`\n}\n\nvar actions = [\"customs\", \"fal\", \"dsa\", 'maritime', 'outbound', \"dsd\", \"frp\", \"qfd\", \"poc\", \"save\", \"submit\", \"acknowledge\", \"approve\", \"ftApprove\", \"verify\", \"return\", \"reject\", \"duplicate\", \"activate\", \"deactivate\", \"print\", \"reVerify\", \"preview\", \"appPreview\", \"uploadTemplate\", \"exit\", \"refresh\", \"validate\"];\nexport function getActionButton(initialButtons, controls, _eventHandler, fal) {\n  controls.map(function (ctr) {\n    var ctrAction = ctr === null || ctr === void 0 ? void 0 : ctr.ctrlAction;\n    var filter = actions.filter(function (a) {\n      return a.toLowerCase() === (ctrAction === null || ctrAction === void 0 ? void 0 : ctrAction.toLowerCase());\n    });\n    if (filter.length > 0) {\n      var act = filter[0];\n      if (act.toLowerCase() === \"submit\") {\n        act = \"submitOnClick\";\n      } else if (act.toLowerCase() === \"exit\") {\n        act = \"back\";\n      }\n      if (ctr.ctrlButtonRef && ctr.ctrlButtonRef !== 'test-button-ref') {\n        Object.assign(initialButtons, _defineProperty({}, act, {\n          show: true,\n          what: ctr.ctrlButtonRef,\n          eventHandler: function eventHandler() {\n            return _eventHandler(ctrAction);\n          }\n        }));\n      } else {\n        if (act.toLowerCase() === 'fal') {\n          Object.assign(initialButtons, _defineProperty({}, act, {\n            show: true,\n            eventHandlerFal1: function eventHandlerFal1() {\n              return fal(\"general\");\n            },\n            eventHandlerFal2: function eventHandlerFal2() {\n              return fal(\"cargo\");\n            },\n            eventHandlerFal3: function eventHandlerFal3() {\n              return fal(\"shipStore\");\n            },\n            eventHandlerFal4: function eventHandlerFal4() {\n              return fal(\"crewEffect\");\n            },\n            eventHandlerFal5: function eventHandlerFal5() {\n              return fal(\"crewList\");\n            },\n            eventHandlerFal6: function eventHandlerFal6() {\n              return fal(\"passengerList\");\n            },\n            eventHandlerFal7: function eventHandlerFal7() {\n              return fal(\"dangerousGoods\");\n            },\n            eventHandlerMaritime: function eventHandlerMaritime() {\n              return fal(\"maritimeOfHealth\");\n            },\n            eventHandlerOutbound: function eventHandlerOutbound() {\n              return fal(\"healthOutbound\");\n            }\n          }));\n        } else {\n          Object.assign(initialButtons, _defineProperty({}, act, {\n            show: true,\n            eventHandler: function eventHandler() {\n              return _eventHandler(ctrAction);\n            }\n          }));\n        }\n      }\n    }\n  });\n  return initialButtons;\n}\n\n/**Created this function to convert a string date into a date object for C1DateField. */\nvar createDateFromString = function createDateFromString(strDate) {\n  if (strDate) {\n    var dParts = strDate.split(\"/\");\n    return new Date(dParts[2], dParts[1] - 1, dParts[0]);\n  }\n  return '';\n};\nexport var customFilterDateDisplay = function customFilterDateDisplay(filterList, _onChange, index, column) {\n  return /*#__PURE__*/React.createElement(C1DateField, {\n    label: column.label,\n    name: column.name,\n    onChange: function onChange(name, date) {\n      filterList[index] = [];\n      filterList[index].push(formatDate(date, false)); //displayd as DD/MM/YYYY\n      _onChange(filterList[index], index, column);\n    },\n    value: createDateFromString(filterList[index][0]) || null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 10\n    }\n  });\n};\nvar createTimeFromString = function createTimeFromString(strTime) {\n  if (strTime) {\n    var tParts = strTime.split(\":\");\n    return new Date(1, 1, 1, tParts[0], tParts[1]);\n  }\n  return '';\n};\nexport var customFilterTimeDisplay = function customFilterTimeDisplay(filterList, _onChange2, index, column) {\n  return /*#__PURE__*/React.createElement(C1TimeField, {\n    ampm: false,\n    label: column.label,\n    name: column.name,\n    onChange: function onChange(name, date) {\n      filterList[index] = [];\n      filterList[index].push(formatDate(date, false, true)); //displayd as HH:mm\n      _onChange2(filterList[index], index, column);\n    },\n    value: createTimeFromString(filterList[index][0]) || null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 10\n    }\n  });\n};\nexport var hasWhiteSpace = function hasWhiteSpace(s) {\n  return /\\s/.test(s);\n};\nexport var isDecimal = function isDecimal(number) {\n  return number % 1 !== 0;\n};\nexport var isSystemAdmin = function isSystemAdmin(_ref) {\n  var _ref2 = _slicedToArray(_ref, 1),\n    authorities = _ref2[0];\n  var systemAdmin = [Roles.SYSTEM_ADMIN.code];\n  var ret = false;\n  authorities.forEach(function (item, indx) {\n    if (systemAdmin.includes(item.authority)) ret = true;\n  });\n  return ret;\n};\nexport var isAccountAdmin = function isAccountAdmin(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 1),\n    authorities = _ref4[0];\n  var arrAdminRoles = [Roles.SHIP_LINE_ADMIN.code, Roles.SHIP_AGENT_ADMIN.code, Roles.ADMIN_OFFICER.code];\n  var ret = false;\n  authorities.forEach(function (item, indx) {\n    if (arrAdminRoles.includes(item.authority)) ret = true;\n  });\n  return ret;\n};\nexport var isGDAccnAdmin = function isGDAccnAdmin(_ref5) {\n  var _ref6 = _slicedToArray(_ref5, 1),\n    authorities = _ref6[0];\n  var arrAdminRoles = [Roles.GD_OFFICER_ADMIN.code];\n  var ret = false;\n  authorities.forEach(function (item, indx) {\n    if (arrAdminRoles.includes(item.authority)) ret = true;\n  });\n  return ret;\n};\nexport var encodeString = function encodeString(string) {\n  return Buffer.from(string).toString(\"base64\");\n};\nexport var decodeString = function decodeString(string) {\n  return Buffer.from(string, 'base64').toString(\"utf-8\");\n  //return Buffer.of(string).toString('utf-8');\n};","map":{"version":3,"names":["moment","React","C1DateField","C1TimeField","VoyageTypes","Roles","withStyles","Switch","useAuth","isEditable","viewType","isLoading","isDisabled","getVoyageType","status","IN","code","desc","OUT","SwitchStyled","switchBase","color","backgroundColor","checked","track","isShipSide","accountType","userRolesDesc","userRoles","count","undefined","forEach","doc","roleDesc","length","formatDate","date","isTime","onlyTime","dateFormat","Date","format","match","String","indexOf","Uint8ArrayToString","fileData","dataString","i","fromCharCode","downloadFile","fileName","base64String","downloadLink","document","createElement","download","href","click","b64toBlob","base64str","contentType","binary","atob","replace","len","buffer","ArrayBuffer","view","Uint8Array","charCodeAt","Blob","type","previewPDF","fileExt","split","pop","blob","includes","window","open","URL","createObjectURL","isEmpty","obj","prop","hasOwnProperty","JSON","stringify","isStringEmpty","str","generateId","Math","floor","random","now","isArrayNotEmpty","value","Array","isArray","getValue","tabScroll","index","id","getAllowBackButton","controls","allowBack","map","item","ctrlAction","toLowerCase","listActionsByExemption","exemption","user","Set","authorities","el","authority","has","APPROVER_OFFICER","VERIFIER_OFFICER","getExtension","filename","pos","lastIndexOf","slice","actions","getActionButton","initialButtons","eventHandler","fal","ctr","ctrAction","filter","a","act","ctrlButtonRef","Object","assign","show","what","eventHandlerFal1","eventHandlerFal2","eventHandlerFal3","eventHandlerFal4","eventHandlerFal5","eventHandlerFal6","eventHandlerFal7","eventHandlerMaritime","eventHandlerOutbound","createDateFromString","strDate","dParts","customFilterDateDisplay","filterList","onChange","column","label","name","push","createTimeFromString","strTime","tParts","customFilterTimeDisplay","hasWhiteSpace","s","test","isDecimal","number","isSystemAdmin","systemAdmin","SYSTEM_ADMIN","ret","indx","isAccountAdmin","arrAdminRoles","SHIP_LINE_ADMIN","SHIP_AGENT_ADMIN","ADMIN_OFFICER","isGDAccnAdmin","GD_OFFICER_ADMIN","encodeString","string","Buffer","from","toString","decodeString"],"sources":["D:/Collap Projects/ACLEDA-Student/student-ui/src/app/c1utils/utility.js"],"sourcesContent":["import moment from \"moment\";\r\nimport React from \"react\";\r\n\r\nimport C1DateField from \"app/c1component/C1DateField\";\r\nimport C1TimeField from \"app/c1component/C1TimeField\";\r\nimport { VoyageTypes, Roles } from \"app/c1utils/const\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport useAuth from \"../hooks/useAuth\";\r\n\r\n//TODO to add more logic e.g. activate, deactivate, etc.\r\nexport function isEditable(viewType, isLoading) {\r\n  let isDisabled = true;\r\n  if (viewType === 'new')\r\n    isDisabled = false;\r\n  else if ((viewType === 'edit' || viewType === 'amend') && !isLoading)\r\n    isDisabled = false;\r\n  else if (viewType === 'view')\r\n    isDisabled = true;\r\n\r\n  if (isLoading) {\r\n    isDisabled = true;\r\n  }\r\n\r\n  return isDisabled;\r\n}\r\n\r\nexport function getVoyageType(status) {\r\n  switch (status) {\r\n    case VoyageTypes.IN.code:\r\n    case VoyageTypes.IN.desc:\r\n      return VoyageTypes.IN.code;\r\n    case VoyageTypes.OUT.code:\r\n    case VoyageTypes.OUT.desc:\r\n      return VoyageTypes.OUT.code;\r\n    default: return \"\";\r\n  }\r\n}\r\n\r\nexport const SwitchStyled = withStyles({\r\n  switchBase: {\r\n    color: 'white',\r\n    '&$checked': {\r\n      color: '#1976d2',\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: '#1976d2',\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);\r\n\r\nexport function isShipSide(accountType) {\r\n  let isShipSide = false;\r\n  if (accountType === 'ACC_TYPE_SHIP_LINE' || accountType === 'ACC_TYPE_SHIP_AGENT') {\r\n    isShipSide = true;\r\n  }\r\n  return isShipSide;\r\n}\r\n\r\n\r\nexport function userRolesDesc(userRoles) {\r\n  let desc = \"\";\r\n  let count = 1;\r\n  if (userRoles !== undefined) {\r\n    userRoles.forEach((doc) => {\r\n      desc += doc.roleDesc;\r\n      if (count < userRoles.length) {\r\n        desc += \",  \";\r\n      }\r\n      count++;\r\n    });\r\n  }\r\n  return desc;\r\n}\r\n\r\nexport function formatDate(date, isTime, onlyTime) {\r\n\r\n  let dateFormat = `DD/MM/YYYY${isTime ? ' HH:mm:ss' : ''}`;\r\n\r\n  if (onlyTime) {\r\n    dateFormat = 'HH:mm';\r\n  }\r\n\r\n  if (!date) {\r\n    return '';\r\n  } else if (date instanceof Date) {\r\n    // date is Date class\r\n    return moment(date).format(dateFormat);\r\n\r\n  } else if (date.length === 13) {\r\n    // 1543593600000\r\n    return moment(new Date(date)).format(dateFormat);\r\n\r\n  } else if (date.length === 10 && date.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\r\n    // 2020-09-11\r\n    return moment(date, 'YYYY-MM-DD').format(dateFormat);\r\n\r\n  } else if (date.length === 10 && date.match(/^\\d{2}-\\d{2}-\\d{4}$/)) {\r\n    // 09-11-2020\r\n    return moment(date, 'DD-MM-YYYY').format(dateFormat);\r\n\r\n  } else if (date instanceof String && date.indexOf(\"T\") > 0) {\r\n    // \"2020-02-20T12:30:45\",\r\n    return moment(date).format(dateFormat);\r\n\r\n  }\r\n  return moment(date).format(dateFormat);\r\n}\r\n\r\n\r\n/**\r\n * Convert Uint8Array To String, use to upload file;\r\n * @param {*} fileData\r\n */\r\nexport const Uint8ArrayToString = (fileData) => {\r\n  var dataString = \"\";\r\n  for (var i = 0; i < fileData.length; i++) {\r\n    dataString += String.fromCharCode(fileData[i]);\r\n  }\r\n\r\n  return dataString\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {*} fileName\r\n * @param {*} base64String\r\n */\r\nexport const downloadFile = (fileName, base64String) => {\r\n  //console.log(`fileName = ${fileName}`);\r\n  const downloadLink = document.createElement(\"a\");\r\n  if (base64String !== undefined && base64String !== null){\r\n    // Browsers that support HTML5 download attribute\r\n    if (downloadLink.download !== undefined && downloadLink.download !== null) {\r\n      downloadLink.href = `data:application/octet-stream;base64,${base64String}`;\r\n      downloadLink.download = `${fileName}`;\r\n      downloadLink.click();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nconst b64toBlob = (base64str, contentType = '') => {\r\n  // decode base64 string, remove space for IE compatibility\r\n  var binary = atob(base64str.replace(/\\s/g, ''));\r\n  var len = binary.length;\r\n  var buffer = new ArrayBuffer(len);\r\n  var view = new Uint8Array(buffer);\r\n  for (var i = 0; i < len; i++) {\r\n    view[i] = binary.charCodeAt(i);\r\n  }\r\n  return new Blob([view], { type: contentType });\r\n}\r\n\r\nexport const previewPDF = (fileName, base64String) => {\r\n  // get file extension\r\n  const fileExt = fileName?.split(\".\").pop();\r\n\r\n  let blob;\r\n  if ([\"jpg\", \"jpeg\", \"png\"].includes(fileExt)) {\r\n    blob = b64toBlob(base64String, \"image/png\");\r\n  } else if (fileExt === \"pdf\") {\r\n    blob = b64toBlob(base64String, \"application/pdf\");\r\n  } else {\r\n    return downloadFile(fileName, base64String);\r\n  }\r\n\r\n  window.open(URL.createObjectURL(blob), \"_blank\");\r\n}\r\n\r\nexport const isEmpty = (obj) => {\r\n  for (var prop in obj) {\r\n    if (obj.hasOwnProperty(prop)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return JSON.stringify(obj) === JSON.stringify({});\r\n}\r\n\r\nexport const isStringEmpty = (str) => {\r\n  return str === null || str === '' || str === ' ';\r\n}\r\n\r\nexport const generateId = () => {\r\n  return Math.floor(Math.random() * Date.now());\r\n}\r\n\r\nexport const isArrayNotEmpty = (value) => {\r\n  return value && Array.isArray(value) && value.length > 0;\r\n}\r\n\r\n\r\nexport function getValue(str) {\r\n  if (str === undefined || str === null)\r\n    return \"\";\r\n  else\r\n    return str;\r\n\r\n}\r\n\r\n//To make the tabs scrollable if it's long\r\nexport function tabScroll(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport function getAllowBackButton(controls, allowBack) {\r\n  if (!allowBack){\r\n    return controls.map(item => {\r\n      if(item?.ctrlAction !== \"\" && item?.ctrlAction.toLowerCase() === \"exit\"){\r\n        item.ctrlAction = \"\";\r\n        return item;\r\n      } else{\r\n        return item;\r\n      }\r\n    });\r\n  } else {\r\n    return controls;\r\n  }\r\n}\r\n\r\nexport function listActionsByExemption(controls,exemption,user) {\r\n  let map = new Set(user.authorities.map((el) => el.authority));\r\n  if (exemption){\r\n    if((map.has(Roles.APPROVER_OFFICER.code) && map.has(Roles.VERIFIER_OFFICER.code))|| map.has(Roles.VERIFIER_OFFICER.code)){\r\n      return controls.map(item => {\r\n        if([\"verify\"].includes(item?.ctrlAction?.toLowerCase())){\r\n          item.ctrlAction = \"\";\r\n          return item;\r\n        } else{\r\n          return item;\r\n        }\r\n      });\r\n    } else {\r\n      return controls;\r\n    }\r\n  } else if((map.has(Roles.APPROVER_OFFICER.code) && map.has(Roles.VERIFIER_OFFICER.code))) {\r\n    return controls.map(item => {\r\n      if([\"acknowledge\"].includes(item?.ctrlAction?.toLowerCase())){\r\n        item.ctrlAction = \"\";\r\n        return item;\r\n      } else{\r\n        return item;\r\n      }\r\n    });\r\n  } else if(map.has(Roles.APPROVER_OFFICER.code)){\r\n    return controls.map(item => {\r\n      if([\"acknowledge\",\"return\",\"reject\"].includes(item?.ctrlAction?.toLowerCase())){\r\n        item.ctrlAction = \"\";\r\n        return item;\r\n      } else{\r\n        return item;\r\n      }\r\n    });\r\n  } else {\r\n    return controls;\r\n  }\r\n}\r\n\r\nexport function getExtension(filename) {\r\n  let pos = filename.lastIndexOf(\".\");\r\n\r\n  if (pos < 1)  // if file name is empty or ...\r\n    return \"\"; //  `.` not found (-1) or comes first (0)\r\n\r\n  return filename.slice(pos + 1).toLowerCase(); // extract extension ignoring `.`\r\n}\r\nconst actions = [\"customs\", \"fal\", \"dsa\",'maritime','outbound', \"dsd\", \"frp\", \"qfd\", \"poc\", \"save\", \"submit\", \"acknowledge\", \"approve\", \"ftApprove\", \"verify\", \"return\", \"reject\", \"duplicate\", \"activate\", \"deactivate\",\r\n  \"print\", \"reVerify\", \"preview\", \"appPreview\", \"uploadTemplate\", \"exit\", \"refresh\", \"validate\"]\r\n\r\nexport function getActionButton(initialButtons, controls, eventHandler, fal) {\r\n  controls.map(ctr => {\r\n    const ctrAction = ctr?.ctrlAction;\r\n    const filter = actions.filter(a => a.toLowerCase() === ctrAction?.toLowerCase())\r\n\r\n    if (filter.length > 0) {\r\n      let act = filter[0];\r\n      if (act.toLowerCase() === \"submit\") {\r\n        act = \"submitOnClick\";\r\n      }\r\n      else if (act.toLowerCase() === \"exit\") {\r\n        act = \"back\";\r\n      }\r\n      if (ctr.ctrlButtonRef && ctr.ctrlButtonRef !== 'test-button-ref') {\r\n        Object.assign(initialButtons, {\r\n          [act]: {\r\n            show: true,\r\n            what: ctr.ctrlButtonRef,\r\n            eventHandler: () => eventHandler(ctrAction)\r\n          },\r\n        });\r\n      } else {\r\n\r\n        if (act.toLowerCase() === 'fal') {\r\n          Object.assign(initialButtons, {\r\n            [act]: {\r\n              show: true,\r\n              eventHandlerFal1: () => fal(\"general\"),\r\n              eventHandlerFal2: () => fal(\"cargo\"),\r\n              eventHandlerFal3: () => fal(\"shipStore\"),\r\n              eventHandlerFal4: () => fal(\"crewEffect\"),\r\n              eventHandlerFal5: () => fal(\"crewList\"),\r\n              eventHandlerFal6: () => fal(\"passengerList\"),\r\n              eventHandlerFal7: () => fal(\"dangerousGoods\"),\r\n              eventHandlerMaritime: () => fal(\"maritimeOfHealth\"),\r\n              eventHandlerOutbound: () => fal(\"healthOutbound\"),\r\n            },\r\n          });\r\n        } else {\r\n          Object.assign(initialButtons, {\r\n            [act]: {\r\n              show: true,\r\n              eventHandler: () => eventHandler(ctrAction)\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  return initialButtons;\r\n}\r\n\r\n/**Created this function to convert a string date into a date object for C1DateField. */\r\nconst createDateFromString = (strDate) => {\r\n  if (strDate) {\r\n    var dParts = strDate.split(\"/\");\r\n    return new Date(dParts[2], dParts[1] - 1, dParts[0]);\r\n  }\r\n  return '';\r\n}\r\n\r\nexport const customFilterDateDisplay = (filterList, onChange, index, column) => {\r\n  return <C1DateField\r\n    label={column.label}\r\n    name={column.name}\r\n    onChange={(name, date) => {\r\n      filterList[index] = [];\r\n      filterList[index].push(formatDate(date, false));//displayd as DD/MM/YYYY\r\n      onChange(filterList[index], index, column);\r\n    }}\r\n    value={createDateFromString(filterList[index][0]) || null} />\r\n}\r\n\r\nconst createTimeFromString = (strTime) => {\r\n  if (strTime) {\r\n    var tParts = strTime.split(\":\");\r\n    return new Date(1, 1, 1, tParts[0], tParts[1]);\r\n  }\r\n  return '';\r\n\r\n}\r\n\r\nexport const customFilterTimeDisplay = (filterList, onChange, index, column) => {\r\n  return <C1TimeField\r\n    ampm={false}\r\n    label={column.label}\r\n    name={column.name}\r\n    onChange={(name, date) => {\r\n      filterList[index] = [];\r\n      filterList[index].push(formatDate(date, false, true));//displayd as HH:mm\r\n      onChange(filterList[index], index, column);\r\n    }}\r\n    value={createTimeFromString(filterList[index][0]) || null} />\r\n}\r\n\r\nexport const hasWhiteSpace = (s) => {\r\n  return (/\\s/).test(s);\r\n}\r\n\r\nexport const isDecimal = (number) => {\r\n  return number % 1 !== 0;\r\n}\r\n\r\nexport const isSystemAdmin = ([authorities]) => {\r\n  const systemAdmin = [Roles.SYSTEM_ADMIN.code]\r\n  let ret = false;\r\n  authorities.forEach((item, indx) => {\r\n    if (systemAdmin.includes(item.authority))\r\n      ret = true;\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nexport const isAccountAdmin = ([authorities]) => {\r\n  const arrAdminRoles = [Roles.SHIP_LINE_ADMIN.code, Roles.SHIP_AGENT_ADMIN.code, Roles.ADMIN_OFFICER.code]\r\n  let ret = false;\r\n  authorities.forEach((item, indx) => {\r\n    if (arrAdminRoles.includes(item.authority))\r\n      ret = true;\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nexport const isGDAccnAdmin = ([authorities]) => {\r\n  const arrAdminRoles = [Roles.GD_OFFICER_ADMIN.code]\r\n  let ret = false;\r\n  authorities.forEach((item, indx) => {\r\n    if (arrAdminRoles.includes(item.authority))\r\n      ret = true;\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nexport const encodeString = (string) => {\r\n  return Buffer.from(string).toString(\"base64\");\r\n}\r\n\r\nexport const decodeString = (string) => {\r\n  return Buffer.from(string, 'base64').toString(\"utf-8\");\r\n  //return Buffer.of(string).toString('utf-8');\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}