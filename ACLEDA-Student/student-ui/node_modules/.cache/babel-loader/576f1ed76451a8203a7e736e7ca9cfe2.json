{"ast":null,"code":"import _slicedToArray from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\src\\\\app\\\\auth\\\\AuthGuard.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport useAuth from \"app/hooks/useAuth\";\nvar AuthGuard = function AuthGuard(_ref) {\n  var children = _ref.children;\n  var _useAuth = useAuth(),\n    isAuthenticated = _useAuth.isAuthenticated,\n    user = _useAuth.user;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    previouseRoute = _useState2[0],\n    setPreviousRoute = _useState2[1];\n  var _useLocation = useLocation(),\n    pathname = _useLocation.pathname;\n\n  // IF YOU NEED ROLE BASED AUTHENTICATION,\n  // UNCOMMENT ABOVE TWO LINES, getUserRoleAuthStatus METHOD AND user VARIABLE\n  // COMMENT OUT BELOW LINE\n  var authenticated = isAuthenticated;\n  useEffect(function () {\n    if (previouseRoute !== null) setPreviousRoute(pathname);\n  }, [pathname, previouseRoute]);\n  if (authenticated) return /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 29\n    }\n  }, children);else {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/session/signin\",\n        state: {\n          redirectUrl: previouseRoute ? previouseRoute : pathname\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    });\n  }\n};\nexport default AuthGuard;","map":{"version":3,"names":["React","useEffect","useState","Redirect","useLocation","useAuth","AuthGuard","children","isAuthenticated","user","previouseRoute","setPreviousRoute","pathname","authenticated","state","redirectUrl"],"sources":["D:/Collap Projects/ACLEDA-Student/student-ui/src/app/auth/AuthGuard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\n\r\nimport useAuth from \"app/hooks/useAuth\";\r\n\r\nconst AuthGuard = ({ children }) => {\r\n  const {\r\n    isAuthenticated,\r\n     user\r\n  } = useAuth();\r\n\r\n  const [previouseRoute, setPreviousRoute] = useState(null);\r\n  const { pathname } = useLocation();\r\n\r\n  // IF YOU NEED ROLE BASED AUTHENTICATION,\r\n  // UNCOMMENT ABOVE TWO LINES, getUserRoleAuthStatus METHOD AND user VARIABLE\r\n  // COMMENT OUT BELOW LINE\r\n  let authenticated = isAuthenticated;\r\n\r\n  useEffect(() => {\r\n    if (previouseRoute !== null) setPreviousRoute(pathname);\r\n  }, [pathname, previouseRoute]);\r\n\r\n\r\n  if (authenticated) return <>{children}</>;\r\n  else {\r\n    return (\r\n\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/session/signin\",\r\n          state: { redirectUrl: previouseRoute ? previouseRoute : pathname },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default AuthGuard;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAExD,OAAOC,OAAO,MAAM,mBAAmB;AAEvC,IAAMC,SAAS,GAAG,SAAZA,SAAS,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAC3B,eAGIF,OAAO,EAAE;IAFXG,eAAe,YAAfA,eAAe;IACdC,IAAI,YAAJA,IAAI;EAGP,gBAA2CP,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAlDQ,cAAc;IAAEC,gBAAgB;EACvC,mBAAqBP,WAAW,EAAE;IAA1BQ,QAAQ,gBAARA,QAAQ;;EAEhB;EACA;EACA;EACA,IAAIC,aAAa,GAAGL,eAAe;EAEnCP,SAAS,CAAC,YAAM;IACd,IAAIS,cAAc,KAAK,IAAI,EAAEC,gBAAgB,CAACC,QAAQ,CAAC;EACzD,CAAC,EAAE,CAACA,QAAQ,EAAEF,cAAc,CAAC,CAAC;EAG9B,IAAIG,aAAa,EAAE,oBAAO;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAGN,QAAQ,CAAI,CAAC,KACrC;IACH,oBAEE,oBAAC,QAAQ;MACP,EAAE,EAAE;QACFK,QAAQ,EAAE,iBAAiB;QAC3BE,KAAK,EAAE;UAAEC,WAAW,EAAEL,cAAc,GAAGA,cAAc,GAAGE;QAAS;MACnE,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACF;EAEN;AACF,CAAC;AAED,eAAeN,SAAS"},"metadata":{},"sourceType":"module"}