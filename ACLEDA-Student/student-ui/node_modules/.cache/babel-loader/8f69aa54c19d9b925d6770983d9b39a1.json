{"ast":null,"code":"import _objectSpread from \"D:\\\\Collap Projects\\\\ACLEDA-Student\\\\student-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport jwtAuthService from \"../../services/jwtAuthService\";\nimport FirebaseAuthService from \"../../services/firebase/firebaseAuthService\";\nimport { setUserData } from \"./UserActions\";\nimport history from \"history.js\";\nexport var LOGIN_ERROR = \"LOGIN_ERROR\";\nexport var LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport var LOGIN_LOADING = \"LOGIN_LOADING\";\nexport var RESET_PASSWORD = \"RESET_PASSWORD\";\nexport var setAuthLoadingStatus = function setAuthLoadingStatus() {\n  var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return function (dispatch) {\n    return dispatch({\n      type: LOGIN_LOADING,\n      data: status\n    });\n  };\n};\nexport function loginWithEmailAndPassword(_ref) {\n  var email = _ref.email,\n    password = _ref.password;\n  return function (dispatch) {\n    return jwtAuthService.loginWithEmailAndPassword(email, password).then(function (user) {\n      dispatch(setUserData(user));\n      return dispatch({\n        type: LOGIN_SUCCESS\n      });\n    }).catch(function (error) {\n      return dispatch({\n        type: LOGIN_ERROR,\n        payload: error\n      });\n    });\n  };\n}\nexport function resetPassword(_ref2) {\n  var email = _ref2.email;\n  return function (dispatch) {\n    dispatch({\n      payload: email,\n      type: RESET_PASSWORD\n    });\n  };\n}\nexport function firebaseLoginEmailPassword(_ref3) {\n  var email = _ref3.email,\n    password = _ref3.password;\n  return function (dispatch) {\n    FirebaseAuthService.signInWithEmailAndPassword(email, password).then(function (user) {\n      if (user) {\n        dispatch(setUserData(_objectSpread({\n          userId: \"1\",\n          role: \"ADMIN\",\n          displayName: \"Watson Joyce\",\n          email: \"watsonjoyce@gmail.com\",\n          photoURL: \"/assets/images/face-7.jpg\",\n          age: 25,\n          token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n        }, user)));\n        history.push({\n          pathname: \"/\"\n        });\n        return dispatch({\n          type: LOGIN_SUCCESS\n        });\n      } else {\n        return dispatch({\n          type: LOGIN_ERROR,\n          payload: \"Login Failed\"\n        });\n      }\n    }).catch(function (error) {\n      return dispatch({\n        type: LOGIN_ERROR,\n        payload: error\n      });\n    });\n  };\n}","map":{"version":3,"names":["jwtAuthService","FirebaseAuthService","setUserData","history","LOGIN_ERROR","LOGIN_SUCCESS","LOGIN_LOADING","RESET_PASSWORD","setAuthLoadingStatus","status","dispatch","type","data","loginWithEmailAndPassword","email","password","then","user","catch","error","payload","resetPassword","firebaseLoginEmailPassword","signInWithEmailAndPassword","userId","role","displayName","photoURL","age","token","push","pathname"],"sources":["D:/Collap Projects/ACLEDA-Student/student-ui/src/app/redux/actions/LoginActions.js"],"sourcesContent":["import jwtAuthService from \"../../services/jwtAuthService\";\r\nimport FirebaseAuthService from \"../../services/firebase/firebaseAuthService\";\r\nimport { setUserData } from \"./UserActions\";\r\nimport history from \"history.js\";\r\n\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_LOADING = \"LOGIN_LOADING\";\r\nexport const RESET_PASSWORD = \"RESET_PASSWORD\";\r\n\r\nexport const setAuthLoadingStatus = (status = false) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: LOGIN_LOADING,\r\n      data: status,\r\n    });\r\n};\r\n\r\nexport function loginWithEmailAndPassword({ email, password }) {\r\n  return (dispatch) => {\r\n    return jwtAuthService\r\n      .loginWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        dispatch(setUserData(user));\r\n\r\n        return dispatch({\r\n          type: LOGIN_SUCCESS,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        return dispatch({\r\n          type: LOGIN_ERROR,\r\n          payload: error,\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nexport function resetPassword({ email }) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      payload: email,\r\n      type: RESET_PASSWORD,\r\n    });\r\n  };\r\n}\r\n\r\nexport function firebaseLoginEmailPassword({ email, password }) {\r\n  return (dispatch) => {\r\n    FirebaseAuthService.signInWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        if (user) {\r\n          dispatch(\r\n            setUserData({\r\n              userId: \"1\",\r\n              role: \"ADMIN\",\r\n              displayName: \"Watson Joyce\",\r\n              email: \"watsonjoyce@gmail.com\",\r\n              photoURL: \"/assets/images/face-7.jpg\",\r\n              age: 25,\r\n              token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\",\r\n              ...user,\r\n            })\r\n          );\r\n\r\n          history.push({\r\n            pathname: \"/\",\r\n          });\r\n\r\n          return dispatch({\r\n            type: LOGIN_SUCCESS,\r\n          });\r\n        } else {\r\n          return dispatch({\r\n            type: LOGIN_ERROR,\r\n            payload: \"Login Failed\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        return dispatch({\r\n          type: LOGIN_ERROR,\r\n          payload: error,\r\n        });\r\n      });\r\n  };\r\n}\r\n"],"mappings":";AAAA,OAAOA,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,mBAAmB,MAAM,6CAA6C;AAC7E,SAASC,WAAW,QAAQ,eAAe;AAC3C,OAAOC,OAAO,MAAM,YAAY;AAEhC,OAAO,IAAMC,WAAW,GAAG,aAAa;AACxC,OAAO,IAAMC,aAAa,GAAG,eAAe;AAC5C,OAAO,IAAMC,aAAa,GAAG,eAAe;AAC5C,OAAO,IAAMC,cAAc,GAAG,gBAAgB;AAE9C,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoB,GAAuB;EAAA,IAAnBC,MAAM,uEAAG,KAAK;EACjD,OAAO,UAACC,QAAQ;IAAA,OACdA,QAAQ,CAAC;MACPC,IAAI,EAAEL,aAAa;MACnBM,IAAI,EAAEH;IACR,CAAC,CAAC;EAAA;AACN,CAAC;AAED,OAAO,SAASI,yBAAyB,OAAsB;EAAA,IAAnBC,KAAK,QAALA,KAAK;IAAEC,QAAQ,QAARA,QAAQ;EACzD,OAAO,UAACL,QAAQ,EAAK;IACnB,OAAOV,cAAc,CAClBa,yBAAyB,CAACC,KAAK,EAAEC,QAAQ,CAAC,CAC1CC,IAAI,CAAC,UAACC,IAAI,EAAK;MACdP,QAAQ,CAACR,WAAW,CAACe,IAAI,CAAC,CAAC;MAE3B,OAAOP,QAAQ,CAAC;QACdC,IAAI,EAAEN;MACR,CAAC,CAAC;IACJ,CAAC,CAAC,CACDa,KAAK,CAAC,UAACC,KAAK,EAAK;MAChB,OAAOT,QAAQ,CAAC;QACdC,IAAI,EAAEP,WAAW;QACjBgB,OAAO,EAAED;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH;AAEA,OAAO,SAASE,aAAa,QAAY;EAAA,IAATP,KAAK,SAALA,KAAK;EACnC,OAAO,UAACJ,QAAQ,EAAK;IACnBA,QAAQ,CAAC;MACPU,OAAO,EAAEN,KAAK;MACdH,IAAI,EAAEJ;IACR,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,OAAO,SAASe,0BAA0B,QAAsB;EAAA,IAAnBR,KAAK,SAALA,KAAK;IAAEC,QAAQ,SAARA,QAAQ;EAC1D,OAAO,UAACL,QAAQ,EAAK;IACnBT,mBAAmB,CAACsB,0BAA0B,CAACT,KAAK,EAAEC,QAAQ,CAAC,CAC5DC,IAAI,CAAC,UAACC,IAAI,EAAK;MACd,IAAIA,IAAI,EAAE;QACRP,QAAQ,CACNR,WAAW;UACTsB,MAAM,EAAE,GAAG;UACXC,IAAI,EAAE,OAAO;UACbC,WAAW,EAAE,cAAc;UAC3BZ,KAAK,EAAE,uBAAuB;UAC9Ba,QAAQ,EAAE,2BAA2B;UACrCC,GAAG,EAAE,EAAE;UACPC,KAAK,EAAE;QAAsD,GAC1DZ,IAAI,EACP,CACH;QAEDd,OAAO,CAAC2B,IAAI,CAAC;UACXC,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEF,OAAOrB,QAAQ,CAAC;UACdC,IAAI,EAAEN;QACR,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,OAAOK,QAAQ,CAAC;UACdC,IAAI,EAAEP,WAAW;UACjBgB,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,CACDF,KAAK,CAAC,UAACC,KAAK,EAAK;MAChB,OAAOT,QAAQ,CAAC;QACdC,IAAI,EAAEP,WAAW;QACjBgB,OAAO,EAAED;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH"},"metadata":{},"sourceType":"module"}